<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>easy movie review</title>
    <link rel="stylesheet" href="./css/basic.css">
    <link rel="stylesheet" href="./css/homepage.css">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./fa/css/all.css">
    <link rel="icon" href="./img/logo.jpg">

    <script>
        window.onload = function(){
            var searchInput = document.getElementsByClassName('search-input')[0];
            var searchButton = document.getElementsByClassName('search-button')[0]
            searchButton.onclick=function(){
            const xhr = new XMLHttpRequest();
            //2. 初始化 设置类型与 URL
            xhr.open('POST', 'http://127.0.0.1:8000/server');
            //设置请求头
            xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
            // xhr.setRequestHeader('name','atguigu');
            //3. 发送
            xhr.send("movie name="+searchInput.value);
            // xhr.send('a:100&b:200&c:300');
            // xhr.send('1233211234567');
            
            //4. 事件绑定
            xhr.onreadystatechange = function(){
                //判断
                if(xhr.readyState === 4){
                    if(xhr.status >= 200 && xhr.status < 300){
                        //处理服务端返回的结果
                        console.log(xhr.response)
                    }
                }
            }

            }
        }
    </script>
</head>

<body>
    <div class="left-bar">
        <div class="watchlist">
            <div class="watchlistnum clearfix">
                3
            </div>
            <a href="javascript:;">Watchlist</a>
        </div>
        <ul class="hotmovies">
            <span>Hot Movies</span>
            <li><a href="javascript:;">Tenet</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">The Devil all the Time</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">Social Media</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">Ava</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">Kajillionaire</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">The Shawshank Redemption</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">The God Father</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">The Dark Knight</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">Pulp Fiction</a></li>
            <li class="line"></li>
            <li><a href="javascript:;">Schindler's List</a></li>
            <li class="line"></li>
        </ul>

    </div>

    <div class="middle-bar">
        <div class="logo"><img src="./img/logo.jpg" alt=""></div>
        <div class="slogan">Easy Movie Review！</div>
        <div class="searchbar">
            <form action="#" class="search">
                <input type="text" class="search-input" placeholder="Search reviews by movie name">
                <div type="submit" class="search-button">
                    <i class="fas fa-search"></i>
                </div>
            </form>

        </div>
        <nav class="nav-class">
            <div class="nav-inner">
                <div class="item">
                    <a href="#">
                        Thriller
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Action
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Fantacy
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Mystery
                    </a>
                </div>
            </div>
            <div class="nav-inner">
                <div class="item">
                    <a href="#">
                        Romance
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Comedy
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Animation
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        Crime
                    </a>
                </div>
            </div>
        </nav>
        <div class="write-reviews">
            <div class="review-slogan">
                Write your own movie reviews！
            </div>
            <form action="/add" method="POST" class="content">
                <input type="text" name="movie" class="movie-name-input" placeholder="Input the movie name">
                <input type="text" name="title" class="review-title-input" placeholder="Your title">
                <input type="text" name="content" class="review-content-input" placeholder="Write your review here">
                <input type="submit" value="Submit">
                <div type="clear" class="clear-button">
                    <a href="javascript:;">
                        Clear All
                    </a>
                </div>
            </form>
        </div>
    </div>

    <div class="right-bar">
        <div class="personal">
            <a href="javascript:;" class="personal-page">
                <img src="./img/personal.jpg" alt="">
            </a>
        </div>
        <div class="hahaha">

        </div>
        <div class="hot-reviews">
            <div class="hot-reviews-title">
                Hot Reviews
            </div>
            <ul class="review-content">
                <div class="review-link">
                    Its somewhat ironic that a movie about time travel can't be reviewed properly until your future self
                    rewatches the movie.
                </div>
                <a href="javascript:;" class="review-link">
                    (more)
                </a>
                <div class="movie-name">
                    TENET
                </div>
                <div class="right-line">

                </div>
                <div class="review-link">
                    It's not for everyone, but great acting and a good story.
                </div>
                <a href="javascript:;" class="review-link">
                    (more)
                </a>
                <div class="movie-name">
                    The Devil all the time
                </div>
                <div class="right-line">

                </div>
                <div class="review-link">
                    It's partly unbelievable a documentary like this has not aired yet.
                </div>
                <a href="javascript:;" class="review-link">
                    (more)
                </a>
                <div class="movie-name">
                    The Social Dilemma
                </div>
                <div class="right-line">

                </div>
            </ul>
        </div>

        <div class="reviews-for-theater-movies">
            <div class="reviews-theater-title">
                in-theater movies
            </div>
            <div class="movie-list">
                <a href="javascript:;" class="in-theater-movie-name">
                    TENET
                </a>
                <div class="right-line">
                </div>
                <a href="javascript:;" class="in-theater-movie-name">
                    Mulan
                </a>
                <div class="right-line">
                </div>
                <a href="javascript:;" class="in-theater-movie-name">
                    Testimone Invisibile
                </a>
                <div class="right-line">
                </div>
                <a href="javascript:;" class="in-theater-movie-name">
                    The Eight Hundred
                </a>
                <div class="right-line">
                </div>
            </div>
        </div>

    </div>

</body>

</html>